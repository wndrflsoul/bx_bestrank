<? namespace Bitrix\Main;$GLOBALS['____1704775968']= array(base64_decode('Z'.'m'.'lsZV9leGl'.'zdH'.'M='),base64_decode(''.'c3R'.'ydG9'.'1c'.'HB'.'lcg'.'=='),base64_decode('bWQ1'),base64_decode('bWQ'.'1'),base64_decode('aW5fYXJyYXk='),base64_decode(''.'aW'.'5fY'.'XJy'.'Y'.'Xk='),base64_decode('a'.'W5fYXJy'.'YXk='),base64_decode('Z'.'GVmaW5lZ'.'A=='),base64_decode('Z'.'GVmaW5lZA=='),base64_decode(''.'ZGVmaW'.'5lZA='.'='),base64_decode('Z'.'m'.'lsZ'.'V9'.'leGlzdHM='),base64_decode('Zm'.'lsZ'.'V9leGlzdH'.'M='),base64_decode(''.'Zm'.'l'.'sZV9leG'.'lzdH'.'M='),base64_decode('ZmlsZV'.'9le'.'Gl'.'zdHM='),base64_decode('Z'.'XhwbG9kZQ='.'='));if(!function_exists(__NAMESPACE__.'\\___1939136253')){function ___1939136253($_880659713){static $_218356841= false; if($_218356841 == false) $_218356841=array('L2JpdHJpeC9saWNl'.'bnNlX2'.'t'.'leS5waH'.'A'.'=','','','R'.'EVNTw'.'==','RE'.'VN'.'Tw==','Q'.'klU'.'UklY','TEl'.'DR'.'U'.'5'.'DRQ='.'=','REV'.'N'.'Tw==',''.'L2tleV91cG'.'Rh'.'dG'.'UucG'.'h'.'wP2xpY2'.'V'.'uc2Vf'.'a'.'2V5PQ==','J'.'nR'.'vYmFza2V0PXkmbGFuZ'.'z0'.'=',''.'c'.'nU=','a3'.'o'.'=',''.'Ynk=','a'.'HR0cHM6Ly9kZXYuMW'.'MtYml0cm'.'l4Ln'.'J1'.'L2'.'xlYXJua'.'W'.'5'.'nL2N'.'vdXJzZS9'.'pbm'.'R'.'leC5wa'.'HA/Q09VU'.'lNFX0lEPTEzN'.'S'.'ZMRVNTT05'.'fS'.'UQ9MjU'.'3MjA'.'=','aHR0c'.'H'.'M6Ly90cmFpb'.'mluZy5iaX'.'RyaXgyNC5jb'.'20vc3VwcG9ydC'.'90cmF'.'pbmluZy9jb3V'.'yc2UvaW5'.'kZXgucGhwP0NPVVJTRV9J'.'R'.'D0xNzgmTEVTU09O'.'X'.'0lEPTI1OT'.'M'.'yJk'.'xF'.'U1N'.'PTl9QQVRIPTE3NTIwLj'.'E3N'.'TY'.'yL'.'jI1OTMwLj'.'I1'.'OTM'.'y','c'.'nU=','Ynk=','a3o'.'=','ZGU'.'=','ZXU'.'=','ZnI=','c'.'Gw'.'=','aXQ=','dWs=','Z'.'XU=','Y29t','Z'.'W'.'4'.'=','REVN'.'Tw==','WQ==','VE'.'lNRUxJTUlUX0VES'.'VR'.'JT04=','W'.'Q==',''.'RU5DT0R'.'F',''.'WQ==','U2l0ZUV4'.'cG'.'ly'.'ZUR'.'hdGU=',''.'bWFp'.'bg==',''.'fnN1cH'.'Bv'.'cn'.'RfZm'.'luaXNo'.'X2Rh'.'dGU=','WS1t'.'LW'.'Q'.'=','WS1tLWQ'.'=',''.'Yml0cml4'.'M'.'jQ=','bWFpbg='.'=',''.'fl'.'BBUkFNX0NMSUVOVF9M'.'Q'.'U'.'5H','aW5'.'0c'.'mFuZ'.'X'.'Q'.'=','ZW4=','cnU=','b'.'WF'.'pb'.'g==',''.'dmVuZ'.'G9y','dWFfYml0cml'.'4'.'X3Bv'.'cnRhbA='.'=','dWE=','Y'.'ml0cml4X'.'3'.'BvcnRhb'.'A='.'=','ZW4=','MWNf'.'Yml0'.'cml4'.'X3B'.'v'.'c'.'nRhbA='.'=','cnU'.'=','L'.'2'.'JpdHJp'.'e'.'C9tb'.'2R1b'.'GVzL21haW4'.'vbGFuZ'.'y'.'91Y'.'Q'.'='.'=',''.'dW'.'E'.'=','L'.'2'.'JpdH'.'JpeC9tb'.'2R1bGVzL21ha'.'W4vb'.'GFuZy9'.'ie'.'Q'.'==',''.'Ynk'.'=','L2J'.'pdHJ'.'p'.'eC9'.'tb2R1'.'bGVzL21'.'ha'.'W4vbGFuZy9reg'.'==','a'.'3o'.'=','L2Jp'.'dHJpe'.'C9tb2'.'R'.'1bGVz'.'L21'.'haW4vb'.'GFuZy9ydQ='.'=','cn'.'U=','bWFpbg==','flBBUkFNX1B'.'B'.'U'.'lROR'.'VJfS'.'UQ=','bW'.'Fpbg==','UEFS'.'QU1fTUFYX1VTR'.'VJT',''.'bWFpbg'.'==','fkNPVU5UX0VY'.'VFJ'.'B',''.'Tg==',''.'WQ==','Z'.'Xh0cmFuZXQ=','QU5E'.'I'.'F'.'UuT'.'EFTV'.'F9MT0dJ'.'TiA'.'+'.'IA==','QU5'.'EIFUu'.'TEF'.'TVF'.'9MT0d'.'J'.'TiB'.'JUyB'.'OT'.'1Qg'.'TlVMTA='.'=','aW5'.'0'.'cmFuZXQ=','ZXh0cmF'.'uZXQ=','ZXh'.'0c'.'m'.'FuZXRf'.'Z3JvdXA=',''.'bWFpbg==','fmxpY2V'.'uc'.'2V'.'fbmF'.'tZQ'.'='.'=','bWFpb'.'g==','fmxpY2Vu'.'c'.'2VfY29kZ'.'X'.'M=','',''.'LA==');return base64_decode($_218356841[$_880659713]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_82933022= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_82933022 === null){ $_601246447= Loader::getDocumentRoot(). ___1939136253(0); $LICENSE_KEY= ___1939136253(1); if($GLOBALS['____1704775968'][0]($_601246447)){ include($_601246447);} $this->_82933022=($LICENSE_KEY == ___1939136253(2) || $GLOBALS['____1704775968'][1]($LICENSE_KEY) == ___1939136253(3)? ___1939136253(4): $LICENSE_KEY);} return $this->_82933022;} public function getHashLicenseKey(): string{ return $GLOBALS['____1704775968'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____1704775968'][3](___1939136253(5). $this->getKey(). ___1939136253(6));} public function isDemoKey(): bool{ return $this->getKey() == ___1939136253(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___1939136253(8). $this->getHashLicenseKey(). ___1939136253(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_50420152= $this->getRegion(); if($GLOBALS['____1704775968'][4]($_50420152,[___1939136253(10), ___1939136253(11), ___1939136253(12)])){ return ___1939136253(13);} return ___1939136253(14);} public function getRenewalLink(): string{ $_50420152= $this->getRegion(); if($GLOBALS['____1704775968'][5]($_50420152,[___1939136253(15), ___1939136253(16), ___1939136253(17), ___1939136253(18)])){ return self::URL_RENEWAL_LICENSE[$_50420152];} if($GLOBALS['____1704775968'][6]($_50420152,[___1939136253(19), ___1939136253(20), ___1939136253(21), ___1939136253(22), ___1939136253(23)])){ return self::URL_RENEWAL_LICENSE[___1939136253(24)];} return self::URL_RENEWAL_LICENSE[___1939136253(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___1939136253(26)];} public function isDemo(): bool{ return $GLOBALS['____1704775968'][7](___1939136253(27)) && DEMO === ___1939136253(28);} public function isTimeBound(): bool{ return $GLOBALS['____1704775968'][8](___1939136253(29)) && TIMELIMIT_EDITION === ___1939136253(30);} public function isEncoded(): bool{ return $GLOBALS['____1704775968'][9](___1939136253(31)) && ENCODE === ___1939136253(32);} public function getExpireDate():?Date{ $_2035437241= (int)($GLOBALS[___1939136253(33)] ?? min(138,0,46)); if($_2035437241>(884-2*442)){ return Date::createFromTimestamp($_2035437241);} return null;} public function getSupportExpireDate():?Date{ $_2035437241= Option::get(___1939136253(34), ___1939136253(35)); if(Date::isCorrect($_2035437241, ___1939136253(36))){ return new Date($_2035437241, ___1939136253(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___1939136253(38))){ return \CBitrix24::getPortalZone();} $_50420152= Option::get(___1939136253(39), ___1939136253(40)); if(!empty($_50420152)){ return $_50420152;} $_50420152= $this->__410430868(); if(!empty($_50420152)){ return $_50420152;} return $this->__2142270479();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___1939136253(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___1939136253(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___1939136253(43)];} private function __410430868():?string{ $_1713544746= Option::get(___1939136253(44), ___1939136253(45)); if($_1713544746 === ___1939136253(46)){ return ___1939136253(47);} if($_1713544746 === ___1939136253(48)){ return ___1939136253(49);} if($_1713544746 === ___1939136253(50)){ return ___1939136253(51);} return null;} private function __2142270479():?string{ $_897365615= Application::getDocumentRoot(); if($GLOBALS['____1704775968'][10]($_897365615. ___1939136253(52))){ return ___1939136253(53);} if($GLOBALS['____1704775968'][11]($_897365615. ___1939136253(54))){ return ___1939136253(55);} if($GLOBALS['____1704775968'][12]($_897365615. ___1939136253(56))){ return ___1939136253(57);} if($GLOBALS['____1704775968'][13]($_897365615. ___1939136253(58))){ return ___1939136253(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___1939136253(60), ___1939136253(61), min(218,0,72.666666666667));} public function getMaxUsers(): int{ return (int)Option::get(___1939136253(62), ___1939136253(63),(768-2*384));} public function isExtraCountable(): bool{ return Option::get(___1939136253(64), ___1939136253(65), ___1939136253(66)) === ___1939136253(67) && ModuleManager::isModuleInstalled(___1939136253(68));} public function getActiveUsersCount(Date $_1244422250= null): int{ $_2069743200= Application::getConnection(); $_201994152=(201*2-402); if($_1244422250 !== null){  $_831431982= ___1939136253(69).$_2069743200->getSqlHelper()->convertToDbDate($_1244422250);} else{  $_831431982= ___1939136253(70);} if(ModuleManager::isModuleInstalled(___1939136253(71))){ $_241738575="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_831431982}
			"; $_201994152= (int)$_2069743200->queryScalar($_241738575); $_1614025203= (int)Option::get(___1939136253(72), ___1939136253(73)); if($_1614025203> min(216,0,72) && $this->isExtraCountable()){ $_241738575="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							INNER JOIN b_user_group UG ON UG.USER_ID = U.ID AND UG.GROUP_ID = {$_1614025203}
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_831431982}
							AND D.VALUE_ID IS NULL
					"; $_201994152 += (int)$_2069743200->queryScalar($_241738575);}} return $_201994152;}  public function getName(): string{ return Option::get(___1939136253(74), ___1939136253(75));}  public function getCodes(): array{ $_136729420= Option::get(___1939136253(76), ___1939136253(77)); if($_136729420 != ___1939136253(78)){ return $GLOBALS['____1704775968'][14](___1939136253(79), $_136729420);} return[];}}?>